!function(n){"use strict";n(window).on("load",(function(){var a=null;function s(a){a&&n("[data-mwg-cf7-forms]").each((function(s,t){var o=n(this).find("table");for(const s in a){var d=n(o).find(`tr[data-form-name="${s}"]`);a[s].isConsentInstalled?(d.find(".dashicons-no").hide(),d.find(".dashicons-yes").fadeIn(),d.find(".install-consent").prop("disabled",!0)):(d.find(".install-consent").prop("disabled",!1),d.find(".dashicons-yes").hide(),d.find(".dashicons-no").fadeIn())}}))}function t(a){const t=n(`button[data-form-id="${a}"`),o=t.closest("[data-mwg-cf7-forms]"),d=o.data("mwg-cf7-forms"),i=n(o).find(".pp-spinner");i.fadeIn();var e={action:d.action,nonce:d.nonce,formId:a};t.prop("disabled",!0),n.post(ajaxurl,e).done((function(n){s(n.forms)})).always((function(n){i.fadeOut()}))}n("[data-mwg-cf7-forms]").each((function(o,d){var i=n(this),e=i.data("mwg-cf7-forms"),f=n(this).find("table").find("tbody"),c=0;for(const a in e.forms){var r=n(`<tr data-form-name="${a}"></tr>`),l=n(`<td class="align-left">${e.forms[a].title}</td>`);r.append(l),l=n('<td class="align-centre"><span class="dashicons dashicons-yes" style="display:none;"></span><span class="dashicons dashicons-no" style="display:none;"></span></td>'),r.append(l),l=n("<td></td>");var p=n(`<button class="button install-consent" disabled data-form-id="${e.forms[a].formId}">${e.labels.installConsentButton}</button>`);p.click((function(a){a.preventDefault(),t(parseInt(n(this).data("form-id")))})),l.append(p),r.append(l),f.append(r),++c}0==c?n(".mwg-cf7-no-forms").slideDown():i.fadeIn(),s(e.forms),a&&clearTimeout(a),a=setTimeout((function(){n(i).find(".pp-spinner").fadeOut()}),250)}))}))}(jQuery);
